---
import Page from '../../../blog/page/[page].astro';
import { getCollection } from "astro:content";
import { pageSize } from "../../../../content.config.ts";
import { filterLang } from "../../../../lib/i18n.ts";

export async function getStaticPaths({paginate}: {paginate: any}) {
  const allPosts = (await getCollection("blog", filterLang('fr'))).sort(
    (a, b) => b.data.date.valueOf() - a.data.date.valueOf(),
  );
  return paginate(allPosts, {pageSize});
}
---
<Page {...Astro.props} />
