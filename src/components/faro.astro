<script>
  import {
  initializeFaro,
  getWebInstrumentations,
  NavigationInstrumentation,
  ViewInstrumentation
} from "@grafana/faro-web-sdk";

  if (import.meta.env.PROD && !window.__FARO_INITIALIZED__) {
    window.__FARO_INITIALIZED__ = true;
    initializeFaro({
      url: "https://faro-collector-prod-us-west-0.grafana.net/collect/bc771c773d3690b642ccf001af91958a",
      app: {
        name: "site",
        version: "1.0.0",
      },
      instrumentations: [
        ...getWebInstrumentations({
          captureConsole: true,
          enablePerformanceInstrumentation: true,
        }),

        new NavigationInstrumentation(),
        new ViewInstrumentation(),
      ],
    });
  }
</script>
